/* --- Theme -------------------------------------------------------------- */
:root {
  --bg: #0b0b10;
  --bg-2: #0e0e15;
  --ink: #e9e9ef;
  --muted: #bdbdcc;
  --accent: #ff6aa7; /* 夜桜っぽいピンク */
  --accent-soft: #ff6aa71a;
  --hero-image: url('assets/hero.jpeg');
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: ui-rounded, "Hiragino Maru Gothic ProN", "Yu Gothic", "Yu Gothic UI", "Hiragino Sans", "Noto Sans JP", system-ui, -apple-system, "Avenir Next", Segoe UI, Roboto, "Meiryo", sans-serif;
  color: var(--ink);
  background: var(--bg);
  line-height: 1.6;
}

/* Subtle background glow */
#bg-gradient {
  position: fixed;
  inset: -20vmax;
  pointer-events: none;
  background:
    radial-gradient(60vmax 60vmax at 80% 10%, #a5005e20, transparent 60%),
    radial-gradient(50vmax 50vmax at 10% 80%, #ff8fbf10, transparent 60%),
    radial-gradient(80vmax 80vmax at -10% -10%, #5b0a3a25, transparent 60%);
  filter: blur(30px) saturate(120%);
  z-index: -2;
}

/* Water ripple canvas (subtle, behind content) */
#water-canvas {
  position: fixed;
  inset: 0;
  z-index: 0; /* behind content, above page background */
  pointer-events: none;
  opacity: 0.55; /* stronger visibility */
}

/* Hide color glow when using black water background */
body.water-black #bg-gradient { display: none; }

.container {
  max-width: 1100px;
  margin: 0 auto;
  padding: 0 20px;
}

/* (Header removed) */

/* --- Hero --------------------------------------------------------------- */
.hero {
  position: relative;
  min-height: 100svh;
  display: grid;
  place-items: center;
  background-image: var(--hero-image);
  background-size: cover;
  background-position: center 40%;
  background-repeat: no-repeat;
  opacity: 0;
  animation: hero-fade 500ms ease-out forwards;
}
/* Top-left mark (hidden, fades later via JS) */
.site-mark {
  position: absolute;
  top: 24px;
  left: 20px;
  font-family: "Hiragino Mincho ProN", "Hiragino Mincho Pro", "Yu Mincho", "Tsukushi Mincho", "IPA明朝", "Noto Serif JP", serif;
  font-weight: 300;
  letter-spacing: 0.05em;
  color: var(--ink);
  text-shadow: 0 2px 10px #0006;
  font-size: clamp(20px, 4vw, 44px);
  opacity: 0;
  transform: translateY(-4px);
  transition: opacity 400ms ease, transform 400ms ease;
  text-rendering: optimizeLegibility;
  font-kerning: normal;
  -webkit-font-smoothing: antialiased;
}
.site-mark.visible {
  opacity: 1;
  transform: translateY(0);
}
@keyframes hero-fade {
  from { opacity: 0; }
  to { opacity: 1; }
}
@media (prefers-reduced-motion: reduce) {
  .hero { animation: none; opacity: 1; }
}

/* --- Sections ----------------------------------------------------------- */
.section { padding: 72px 0; background: transparent; border-top: 1px solid #ffffff0e; }
.section h2 { margin-top: 0; }
.section p { color: var(--muted); }

/* --- Footer ------------------------------------------------------------- */
.site-footer { color: var(--muted); border-top: 1px solid #ffffff10; padding: 28px 0; background: transparent; }

/* Small screens */
@media (max-width: 680px) {
  .nav { display: none; }
  .btn { padding: 10px 16px; }
}

/* --- Gallery ------------------------------------------------------------- */
.gallery .container > h2 { margin-bottom: 16px; }
.gallery-strip {
  display: flex;
  gap: 12px;
  overflow-x: auto;
  overflow-y: hidden;
  overscroll-behavior-x: contain;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  padding: 0 12px 8px;
  scroll-padding-inline: 12px;
  touch-action: pan-x;
}
.gallery-image {
  display: block;
  padding: 0;
  border: 0;
  background: #0f0f16;
  cursor: zoom-in;
  border-radius: 12px;
  overflow: hidden;
  scroll-snap-align: start;
  flex: 0 0 min(64vw, 320px);
  border: 1px solid #ffffff12;
  box-shadow: 0 10px 30px #0006;
}
.gallery-image img {
  display: block;
  width: 100%;
  height: 220px;
  object-fit: cover;
  -webkit-user-drag: none;
  user-select: none;
}
.gallery-strip { scrollbar-width: thin; }
.gallery-strip::-webkit-scrollbar { height: 8px; }
.gallery-strip::-webkit-scrollbar-thumb { background: #ffffff20; border-radius: 4px; }

/* --- Live --------------------------------------------------------------- */
.live .container > h2 { margin-bottom: 16px; }
.live-grid {
  display: flex;
  gap: 16px;
  overflow-x: auto;
  overflow-y: hidden;
  overscroll-behavior-x: contain;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  padding: 0 12px 8px;
  scroll-padding-inline: 12px;
  touch-action: pan-x;
}
.live-card {
  background: #0f0f16;
  border: 1px solid #ffffff12;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 10px 30px #0006;
  scroll-snap-align: start;
  flex: 0 0 min(88vw, 520px);
}
.live-image { display: block; padding: 0; border: 0; background: #000; cursor: zoom-in; width: 100%; aspect-ratio: 16 / 9; }
.live-image img { display: block; width: 100%; height: 100%; object-fit: contain; }
.live-actions {
  display: flex;
  gap: 10px;
  padding: 12px;
  border-top: 1px solid #ffffff10;
  background: #0f0f16;
  position: relative;
  z-index: 1;
}

/* Buttons */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 10px 16px;
  border-radius: 999px;
  background: #ffffff10;
  color: var(--ink);
  text-decoration: none;
  border: 1px solid #ffffff1a;
  backdrop-filter: blur(4px);
  transition: transform .15s ease, background .2s ease, border-color .2s ease;
}
.btn:hover { transform: translateY(-1px); background: #ffffff18; border-color: #ffffff28; }
.btn.primary { background: var(--accent-soft); border-color: #ff6aa73a; }
.btn.primary:hover { background: #ff6aa726; }
.btn.outline { background: transparent; border-color: #ffffff30; }
.btn.small { padding: 8px 12px; font-size: 0.9em; }

/* Lightbox */
.lightbox {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.85);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 100;
}
.lightbox.open { display: flex; }
.lightbox-image {
  max-width: 92vw;
  max-height: 92vh;
  border-radius: 8px;
  box-shadow: 0 20px 60px #000a;
}
.lightbox-close {
  position: absolute;
  top: 12px; right: 16px;
  font-size: 28px;
  color: #fff;
  background: transparent;
  border: none;
  cursor: pointer;
}

/* (DM modal removed) */

@media (max-width: 820px) {
  .live-grid { grid-template-columns: 1fr; }
}

/* --- Music -------------------------------------------------------------- */
.music .container > h2 { margin-bottom: 16px; }
.music-grid {
  display: flex;
  gap: 16px;
  overflow-x: auto;
  overflow-y: hidden;
  overscroll-behavior-x: contain;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  padding: 0 12px 8px;
  scroll-padding-inline: 12px;
  touch-action: pan-x;
}
.video {
  background: #0f0f16;
  border: 1px solid #ffffff12;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 10px 30px #0006;
  scroll-snap-align: start;
  flex: 0 0 min(88vw, 560px);
}
.video iframe {
  display: block;
  width: 100%;
  aspect-ratio: 16 / 9;
  background: #000;
}


/* Ensure main content paints above background canvas */
.hero, .section, .site-footer { position: relative; z-index: 1; }

/* --- Dialog ------------------------------------------------------------- */
.dialog .container > h2 { margin-bottom: 16px; }
.dialog-grid {
  display: flex;
  gap: 16px;
  overflow-x: auto;
  overflow-y: hidden;
  overscroll-behavior-x: contain;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  padding: 0 12px 8px;
  scroll-padding-inline: 12px;
  touch-action: pan-x;
}
/* Ensure child elements don't block horizontal pan on mobile */
.live-card, .live-image, .live-actions,
.video, .dialog-grid .video,
.gallery-image,
.live-image img, .video iframe, .gallery-image img { touch-action: pan-x; }
.live-image img { -webkit-user-drag: none; user-select: none; }
.dialog-grid .video {
  background: #0f0f16;
  border: 1px solid #ffffff12;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 10px 30px #0006;
  scroll-snap-align: start;
}
.dialog-grid .video iframe {
  display: block;
  width: 100%;
  aspect-ratio: 16 / 9;
  background: #000;
}

/* Desktop widths show more per view without breaking scroll */
@media (min-width: 960px) {
  .live-card { flex-basis: 520px; }
  .video { flex-basis: 560px; }
  .gallery-image { flex-basis: 340px; }
}

/* Mobile: show next card edges for hint */
@media (max-width: 680px) {
  .live-card { flex-basis: 84vw; }
  .video { flex-basis: 84vw; }
  .gallery-image { flex-basis: 78vw; }
}

/* Make Music/Dialog show next item edge more clearly */
@media (max-width: 680px) {
  .music-grid .video, .dialog-grid .video { flex-basis: 78vw; }
}
@media (min-width: 681px) and (max-width: 959px) {
  .music-grid .video, .dialog-grid .video { flex-basis: 86vw; }
}

/* Optional: tidy mobile scrollbars */
.live-grid, .music-grid, .dialog-grid { scrollbar-width: thin; }
.live-grid::-webkit-scrollbar, .music-grid::-webkit-scrollbar, .dialog-grid::-webkit-scrollbar { height: 8px; }
.live-grid::-webkit-scrollbar-thumb, .music-grid::-webkit-scrollbar-thumb, .dialog-grid::-webkit-scrollbar-thumb { background: #ffffff20; border-radius: 4px; }

/* --- Contact ------------------------------------------------------------ */
.contact .container > h2 { margin-bottom: 16px; }
.contact-row {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  align-items: center;
}
.btn.icon {
  padding: 6px 10px;
  border-radius: 999px;
  font-size: 0.95em;
  line-height: 1;
  gap: 6px;
}
.btn.icon .icon { width: 18px; height: 18px; }
.btn.icon .label { display: inline-block; }
@media (max-width: 480px) {
  .btn.icon { padding: 6px 8px; }
  .btn.icon .label { display: none; } /* icons only on very small screens */
}

/* --- Contact Info ------------------------------------------------------- */
.contact-info .container > h2 { margin-bottom: 8px; }
.contact-text { color: var(--muted); margin: 0 0 8px; }
.contact-handle a { color: var(--ink); font-size: 18px; text-decoration: underline; text-underline-offset: 3px; }
.contact-actions { margin-top: 12px; }

/* --- Floating SNS bar --------------------------------------------------- */
.sns-fab {
  position: fixed;
  right: 16px;
  bottom: 16px;
  z-index: 90;
  display: flex;
  gap: 8px;
  background: rgba(0,0,0,0.6); /* 黒背景(半透明) */
  border: 1px solid rgba(255,255,255,0.2);
  padding: 6px 8px;
  border-radius: 999px;
  opacity: 0;
  transform: translateY(-6px);
  transition: opacity 400ms ease, transform 400ms ease;
}
.sns-fab .fab-btn {
  width: 34px; height: 34px;
  display: inline-flex;
  align-items: center; justify-content: center;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.2);
  background: rgba(0,0,0,0.6); /* 黒背景(半透明) */
  color: #fff;                /* 白いアイコン */
  transition: transform .15s ease, background .2s ease, border-color .2s ease, color .2s ease;
}
.sns-fab .fab-btn:hover { transform: translateY(-1px); background: rgba(0,0,0,0.75); border-color: rgba(255,255,255,0.3); }

.sns-fab.visible { opacity: 1; transform: translateY(0); }

/* --- Collapsible Menu (top-right) -------------------------------------- */
.menu-bar {
  position: fixed;
  top: 16px;
  right: 16px;
  z-index: 95;
  opacity: 0;
  transform: translateY(-6px);
  transition: opacity 400ms ease, transform 400ms ease;
}
.menu-bar.visible { opacity: 1; transform: translateY(0); }
.menu-toggle {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px; height: 36px;
  border-radius: 999px;
  background: rgba(0,0,0,0.6);
  color: rgba(255,255,255,0.9);
  border: 1px solid rgba(255,255,255,0.2);
  cursor: pointer;
}
.menu-toggle:hover { background: rgba(0,0,0,0.75); border-color: rgba(255,255,255,0.3); }

.menu-panel {
  position: absolute;
  top: 44px;
  right: 0;
  background: #000;
  color: #fff;
  border: 1px solid rgba(255,255,255,0.25);
  border-radius: 12px;
  min-width: 180px;
  box-shadow: 0 12px 30px #000a;
  padding: 6px;
  opacity: 0;
  transform: translateY(-6px);
  pointer-events: none;
  transition: opacity 200ms ease, transform 200ms ease;
}
.menu-bar.open .menu-panel { opacity: 1; transform: translateY(0); pointer-events: auto; }
.menu-list { list-style: none; margin: 0; padding: 0; }
.menu-list a {
  display: block;
  padding: 10px 10px;
  color: #fff; text-decoration: none;
  border-radius: 8px;
}
.menu-list a:hover { background: #111; }
